"use strict";var S3=function(a){if(null===a)throw new ReferenceError("This toolbox needs jquery,but not found.");var b=function(){};return new b}(jQuery);+function(a){var b=function(a){a.reset()},c=function(a){var b={},c=$(a).serializeArray();return $.each(c,function(){void 0!==b[this.name]?(b[this.name].push||(b[this.name]=[b[this.name]]),b[this.name].push(this.value||"")):b[this.name]=this.value||""}),b},d=function(b,c,e){var f,g,h,i,j;e=e||"";for(f in c)if(h=e+f,g=c[f],a.utils.isPlainObject(g))d(b,g,f+".");else{i=[],j=b.elements;for(var k=0;k<j.length;k++)j[k].getAttribute("name")===h&&i.push(j[k]);i.forEach(function(a){if("select"===a.tagName.toLowerCase())if("select-multiple"===a.type)for(var b=0;b<a.options.length;b++)g.forEach(function(c){a.options[b].value===c&&(a.options[b].selected=!0)});else for(var b=0;b<a.options.length;b++)a.options[b].value===g&&(a.selectedIndex=b);else"checkbox"===a.type?a.checked=!(a.value!==g&&!g.some(function(b){return a.value===b})):"radio"!==a.type?a.value=g:a.checked=a.value===g})}},e={clearForm:b,json2form:d,form2json:c};a.form=e}(S3),+function(c){var d=function(a,b){var c=0,d=a.toString(),e=b.toString(),f=d.split(".");return f[1]&&(c+=f[1].length),f=e.split("."),f[1]&&(c+=f[1].length),Number(d.replace(".",""))*Number(e.replace(".",""))/Math.pow(10,c)},e=function(a,b){var c=0,d=0,e=a.toString().split(".");e[1]&&(c=e[1].length),e=b.toString().split("."),e[1]&&(d=e[1].length);var f=Math.pow(10,Math.max(c,d));return(Number(a)*f+Number(b)*f)/f},f=function(a,b){var c=0,d=0,e=a.toString().split(".");e[1]&&(c=e[1].length),e=b.toString().split("."),e[1]&&(d=e[1].length);var f=Math.pow(10,Math.max(c,d));return Number(((Number(a)*f-Number(b)*f)/f).toFixed(Math.max(c,d)))},g=function(a,b){var c,d,e=0,f=0,g=a.toString(),h=b.toString();return d=g.split("."),d[1]&&(e+=d[1].length),d=h.split("."),d[1]&&(f+=d[1].length),c=Math.pow(10,e-f),Number((Number(g.replace(".",""))/Number(h.replace(".",""))*c).toFixed(2))},h=function(a,b){var c=[];if(a.length===b.length){for(var d=0;d<a.length;d++)c[d]=a[d]*b[d];return c}throw new Error("传入数组长度必须相同")},i=function(a,b){var c=[];if(a.length===b.length){for(var d=0;d<a.length;d++)c[d]=a[d]+b[d];return c}throw new Error("传入数组长度必须相同")},j=function(c,d){var e=[];if(a.length===b.length){for(var f=0;f<c.length;f++)e[f]=c[f]-d[f];return e}throw new Error("传入数组长度必须相同")},k=function(a,b){return a.map(function(a){return a*b})},l=function(a,b){return a.map(function(a){return a-b})},m=function(a,b){return a.map(function(a){return a+b})},n=function(a){a=a.toString();var b=!1,c=3;if(-1!=a.indexOf("-")&&(a=a.replace(/[-]/g,""),b=!0),a.length>c){for(var d=a.length%c,e=d>0?a.substring(0,d):"",f=0;f<Math.floor(a.length/c);f++)e+=0==d&&0==f?a.substring(d+c*f,d+c*(f+1)):","+a.substring(d+c*f,d+c*(f+1));return b?"-"+e:e}return b?"-"+a:a},o=function(a){return void 0===a?a:a.replace(/,/g,"")},p={add:e,sub:f,mul:d,div:g,addComma:n,removeComma:o,arrMul:h,arrAdd:i,arrSub:j,arrAddNum:m,arrSubNum:l,arrMulNum:k};c.cal=p}(S3),+function(toolBox){var types=["blur","focus","click","dbclick","mouseover","mousedown","mouseup","mousemove","mouseout","mouseenter","mouseleave","change","load","unload","resize","scroll","select","submit","keydown","keypress","keyup","error"],addHandler=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent(b,c):a["on"+b]=c},removeHandler=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent?a.detachEvent(b,c):a["on"+b]=null},getEvent=function(a){return a?a:window.event},getTarget=function(a){return a.target||a.srcElement},stopPropagation=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},init=function(){var evt,target,f,pattern=/[a-zA-Z0-9-_]\([a-zA-Z0-9-_]*\)$/;types.forEach(function(item){$("["+item+"]").each(function(){var fn=$(this).attr(item);$(this).on(item,function(){pattern.test(fn)?eval(fn):(evt=getEvent(event),target=getTarget(evt),f=fn+"(target)",eval(f))})})})},addTypes=function(a){types.push(a)};toolBox.eventManager={init:init,addTypes:addTypes,addHandler:addHandler,removeHandler:removeHandler,getEvent:getEvent,getTarget:getTarget,stopPropagation:stopPropagation}}(S3),+function(a){var b=function(a,b){var a=$(a);b?(a.unbind("click"),"function"==typeof b&&a.attr("lockBindFn",b.name)):(b=a.attr("onclick"),b?(a.attr("onclick",""),a.attr("lockClickFn",b)):a.is("a")&&(b=a.attr("href"),a.attr("href","javascript:;"),a.attr("lockHrefFn",b))),a.is("button")||a.is("input")?a.attr("disabled",!0):a.is("a")&&a.addClass("gray"),a.attr("lockDisabled",!0)},c=function(a,b){var a=$(a),c=a.attr("lockDisabled");return c?a.is("button")||a.is("input")?a.attr("disabled",!1):a.is("a")&&a.removeClass("gray"):a.unbind("click"),a.attr("lockBindFn")?void("function"==typeof b&&a.bind("click",b)):(b=a.attr("lockClickFn"))?void a.attr("onclick",b):(b=a.attr("lockHrefFn"),void(b&&a.attr("href",b)))},d={lock:b,unlock:c};a.btn=d}(S3),+function(a){function b(a){return a.replace(u,"").replace(v,",").replace(w,"").replace(x,"").replace(y,"").split(z)}function c(a){return"'"+a.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function d(a,d){function e(a){return j+=a.split(/\n/).length-1,a&&(a=m[1]+c(a)+m[2]+"\n"),a}function f(a){if(0===a.indexOf("=")){var c=i&&!/^=[=#]/.test(a);if(a=a.replace(/^=[=#]?|[\s;]*$/g,""),c){var d=a.replace(/\s*\([^\)]+\)/,"");o[d]||/^(include|print)$/.test(d)||(a="$escape("+a+")")}else a="$string("+a+")";a=m[1]+a+m[2]}return s(b(a),function(a){if(a&&!k[a]){var b;b="print"===a?q:"include"===a?r:o[a]?"$utils."+a:p[a]?"$helpers."+a:"$data."+a,t+=a+"="+b+",",k[a]=!0}}),a+"\n"}var g=d.openTag,h=d.closeTag,i=d.escape,j=1,k={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},l="".trim,m=l?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],n=l?"$out+=text;return $out;":"$out.push(text);",q="function(){var text=''.concat.apply('',arguments);"+n+"}",r="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+n+"}",t="'use strict';var $utils=this,$helpers=$utils.$helpers,",u=m[0],v="return new String("+m[3]+");";s(a.split(g),function(a){a=a.split(h);var b=a[0],c=a[1];1===a.length?u+=e(b):(u+=f(b),c&&(u+=e(c)))});var w=t+u+v;try{var x=new Function("$data","$filename",w);return x.prototype=o,x}catch(y){throw y.temp="function anonymous($data,$filename) {"+w+"}",y}}var e=function(a,b){return"string"==typeof b?r(b,{filename:a}):h(a,b)};e.config=function(a,b){f[a]=b};var f=e.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0},g=e.cache={};e.render=function(a,b){return r(a,b)};var h=e.renderFile=function(a,b){var c=e.get(a)||q({filename:a,name:"Render Error",message:"Template not found"});return b?c(b):c};e.get=function(a){var b;if(g[a])b=g[a];else if("object"==typeof document){var c=document.getElementById(a);if(c){var d=(c.value||c.innerHTML).replace(/^\s*|\s*$/g,"");b=r(d,{filename:a})}}return b};var i=function(a,b){return"string"!=typeof a&&(b=typeof a,"number"===b?a+="":a="function"===b?i(a.call(a)):""),a},j={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},k=function(a){return j[a]},l=function(a){return i(a).replace(/&(?![\w#]+;)|[<>"']/g,k)},m=Array.isArray||function(a){return"[object Array]"==={}.toString.call(a)},n=function(a,b){var c,d;if(m(a))for(c=0,d=a.length;d>c;c++)b.call(a,a[c],c,a);else for(c in a)b.call(a,a[c],c)},o=e.utils={$helpers:{},$include:h,$string:i,$escape:l,$each:n};e.helper=function(a,b){p[a]=b};var p=e.helpers=o.$helpers;e.onerror=function(a){var b="Template Error\n\n";for(var c in a)b+="<"+c+">\n"+a[c]+"\n\n";"object"==typeof console&&console.error(b)};var q=function(a){return e.onerror(a),function(){return"{Template Error}"}},r=e.compile=function(a,b){function c(c){try{return new i(c,h)+""}catch(d){return b.debug?q(d)():(b.debug=!0,r(a,b)(c))}}b=b||{};for(var e in f)void 0===b[e]&&(b[e]=f[e]);var h=b.filename;try{var i=d(a,b)}catch(j){return j.filename=h||"anonymous",j.name="Syntax Error",q(j)}return c.prototype=i.prototype,c.toString=function(){return i.toString()},h&&b.cache&&(g[h]=c),c},s=o.$each,t="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",u=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,v=/[^\w$]+/g,w=new RegExp(["\\b"+t.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),x=/^\d[^,]*|,\d[^,]*/g,y=/^,+|,+$/g,z=/^$|,+/;a.template=e}(S3),+function(a){function b(a){return a.replace(/-/g,"/")}var c=Array.isArray||function(a){return"[object Array]"===Array.prototype.toString.call(a)},d=function(a){return!(!c(a)&&!a.length)},e=function(a){return"number"==typeof a},f=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},g=function(a){var b,c,d={};if(!a||"[object Object]"!==Object.prototype.toString.call(a))return!1;if(b=Object.getPrototypeOf(a),!b)return!0;var e=d.hasOwnProperty,f=e.toString;return c=d.hasOwnProperty.call(b,"constructor")&&b.constructor,"function"==typeof c&&f.call(c)===f.call(Object)},h=function(a){return null===a},i=function(a){return void 0===a},j=function(a,b){return null!=a&&Object.prototype.hasOwnProperty.call(a,b)},k=function(a){if(!f(a))return[];if(Object.keys)return Object.keys(a);var b=[];for(var c in a)j(a,c)&&b.push(c);return b},l=function(a){for(var b=k(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},m=function(a,b){if(!g(b))return a?a:{};for(var c in b)a[c]=b[c];return a},n=function(a){return f(a)?c(a)?a.slice():m({},a):a},o=function(a,c){var a=new Date(b(a)).getTime(),c=new Date(b(c)).getTime();return c>a},p=function(){var a=navigator.userAgent;return a.indexOf("Android")>-1||a.indexOf("iPhone")>-1||a.indexOf("iPad")>-1||a.indexOf("iPod")>-1||a.indexOf("Symbian")>-1},q=function(a,b){if(!d(a))throw new Error("请传入正确的参数");var c;for(c=0;c<a.length;c++)b(a[c])},r=function(a,b){if(d(a)){var c;for(c=0;c<a.length;c++)if(b(a[c]))return!0;return!1}throw new Error("请传入正确的参数")};Array.prototype.forEach||(Array.prototype.forEach=function(a){return q(this,a)}),Array.prototype.some||(Array.prototype.some=function(a){return r(this,a)});var s={isArray:c,isNumber:e,isObject:f,isPlainObject:g,isNull:h,isUndefined:i,has:j,keys:k,values:l,extend:m,clone:n,dateCompare:o,isMobile:p,forEach:q,some:r};a.utils=s}(S3);